name: whoisquery
title: Domain name expiry collector
overview:
  application:
    description: "A domain name (often simply called a domain) is an easy-to-remember
      name \nthat's associated with a physical IP address on the Internet.\n"
  collector:
    description: "This collector monitors the remaining time before the domain expires.\n"
setup:
  prerequisites:
    list: []
  configuration:
    options:
      description: "The following options can be defined globally: update_every, autodetection_retry.\n"
      folding:
        title: Config options
        enabled: true
      list:
        - name: update_every
          description: Data collection frequency.
          required: false
          default_value: 1
        - name: autodetection_retry
          description: Re-check interval in seconds. Zero means not to schedule re-check.
          required: false
          default_value: 0
        - name: source
          description: Domain address.
          required: true
          default_value: ''
        - name: days_until_expiration_warning
          description: Number of days before the alarm status is warning.
          required: false
          default_value: 30
        - name: days_until_expiration_critical
          description: Number of days before the alarm status is critical.
          required: false
          default_value: 15
        - name: timeout
          description: The query timeout in seconds.
          required: false
          default_value: 5
    examples:
      folding:
        title: Config
        enabled: true
      list:
        - name: Basic
          description: Basic configuration example
          config: "jobs:\n  - name: my_site\n    source: my_site.com\n"
        - name: Multi-instance
          description: "> **Note**: When you define more than one job, their names
            must be unique.\n\nCheck the expiration status of the multiple domains.\n"
          config: "jobs:\n  - name: my_site1\n    source: my_site1.com\n\n  - name:
            my_site2\n    source: my_site2.com\n"
    file:
      name: ''
troubleshooting:
  problems:
    list: []
metrics:
  folding:
    title: Metrics
    enabled: false
  description: ''
  availability: []
  scopes:
    - name: domain
      description: These metrics refer to the configured source.
      labels:
        - name: domain
          description: Configured source
      metrics:
        - name: whoisquery.time_until_expiration
          description: Time Until Domain Expiration
          unit: seconds
          dimensions:
            - name: expiry
          chart_type: line
