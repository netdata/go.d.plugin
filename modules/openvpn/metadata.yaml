name: openvpn
title: OpenVPN collector
overview:
  application:
    description: "[OpenVPN](https://openvpn.net/) is an open-source commercial software
      that implements virtual private network\ntechniques to create secure point-to-point
      or site-to-site connections in routed or bridged configurations and remote\n
      access facilities.\n"
  collector:
    description: "This collector monitors one or more OpenVPN servers, depending on
      your configuration.\n\nIt uses OpenVPN [Management Interface](https://openvpn.net/community-resources/management-interface/)
      to collect metrics.\n"
setup:
  prerequisites:
    list:
      - title: Enable in go.d.conf.
        description: "This collector is disabled by default. You need to explicitly
          enable it in [go.d.conf](https://github.com/netdata/go.d.plugin/blob/master/config/go.d.conf).\n
          \nFrom the documentation for the OpenVPN Management Interface:\n> Currently,
          the OpenVPN daemon can at most support a single management client any one
          time.\n\nIt is disabled to not break other tools which use `Management Interface`.\n"
  configuration:
    options:
      description: "The following options can be defined globally: update_every, autodetection_retry.\n"
      folding:
        title: Config options
        enabled: true
      list:
        - name: update_every
          description: Data collection frequency.
          required: false
          default_value: 1
        - name: autodetection_retry
          description: Re-check interval in seconds. Zero means not to schedule re-check.
          required: false
          default_value: 0
        - name: address
          description: Server address in IP:PORT format.
          required: true
          default_value: 127.0.0.1:7505
        - name: per_user_stats
          description: User selector. Determines which user metrics will be collected.
          required: false
          details: "Metrics of users matching the selector will be collected.\n- Logic:
            (pattern1 OR pattern2) AND !(pattern3 or pattern4)\n- Pattern syntax:
            [matcher](https://github.com/netdata/go.d.plugin/tree/master/pkg/matcher#supported-format).\n
            - Syntax:\n  ```yaml\n  per_user_stats:\n    includes:\n      - pattern1\n\
            \      - pattern2\n    excludes:\n      - pattern3\n      - pattern4\n\
            \  ```\n"
          default_value: ''
        - name: connect_timeout
          description: Connection timeout in seconds. The timeout includes name resolution,
            if required.
          required: false
          default_value: 2
        - name: read_timeout
          description: Read timeout in seconds. Sets deadline for read calls.
          required: false
          default_value: 2
        - name: write_timeout
          description: Write timeout in seconds. Sets deadline for write calls.
          required: false
          default_value: 2
    examples:
      folding:
        title: Config
        enabled: true
      list:
        - name: Basic
          description: A basic example configuration.
          config: "jobs:\n  - name: local\n    address: 127.0.0.1:7505\n"
        - name: With user metrics
          description: Collect metrics of all users.
          config: "jobs:\n  - name: local\n    address: 127.0.0.1:7505\n    per_user_stats:\n\
            \      includes:\n        - \"* *\"\n"
        - name: Multi-instance
          description: "> **Note**: When you define multiple jobs, their names must
            be unique.\n\nCollecting metrics from local and remote instances.\n"
          config: "jobs:\n  - name: local\n    address: 127.0.0.1:7505\n\n  - name:
            remote\n    address: 203.0.113.0:7505\n"
    file:
      name: ''
troubleshooting:
  problems:
    list: []
metrics:
  folding:
    title: Metrics
    enabled: false
  description: ''
  availability: []
  scopes:
    - name: global
      description: These metrics refer to the entire monitored application.
      labels: []
      metrics:
        - name: openvpn.active_clients
          description: Total Number Of Active Clients
          unit: clients
          dimensions:
            - name: clients
          chart_type: line
        - name: openvpn.total_traffic
          description: Total Traffic
          unit: kilobits/s
          dimensions:
            - name: in
            - name: out
          chart_type: area
    - name: user
      description: These metrics refer to the VPN user.
      labels:
        - name: username
          description: VPN username
      metrics:
        - name: openvpn.user_traffic
          description: User Traffic
          unit: kilobits/s
          dimensions:
            - name: in
            - name: out
          chart_type: area
        - name: openvpn.user_connection_time
          description: User Connection Time
          unit: seconds
          dimensions:
            - name: time
          chart_type: line
