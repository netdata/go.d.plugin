name: rabbitmq
title: RabbitMQ collector
overview:
  application:
    description: "[RabbitMQ](https://www.rabbitmq.com/) is an open-source message
      broker.\n"
  collector:
    description: "This collector monitors one or more RabbitMQ instances, depending
      on your configuration.\n\nIt collects data using an HTTP-based API provided
      by the [management plugin](https://www.rabbitmq.com/management.html).\nThe following
      endpoints are used:\n\n- `/api/overview`\n- `/api/node/{node_name}`\n- `/api/vhosts`\n
      - `/api/queues` (disabled by default)\n"
setup:
  prerequisites:
    list:
      - title: Enable management plugin.
        description: "The management plugin is included in the RabbitMQ distribution,
          but disabled.\nTo enable see [Management Plugin](https://www.rabbitmq.com/management.html#getting-started)
          documentation.\n"
  configuration:
    options:
      description: "The following options can be defined globally: update_every, autodetection_retry.\n"
      folding:
        title: Config options
        enabled: true
      list:
        - name: update_every
          description: Data collection frequency.
          required: false
          default_value: 1
        - name: autodetection_retry
          description: Re-check interval in seconds. Zero means not to schedule re-check.
          required: false
          default_value: 0
        - name: url
          description: Server URL.
          required: true
          default_value: http://localhost:15672
        - name: collect_queues_metrics
          description: Collect stats per vhost per queues. Enabling this can introduce
            serious overhead on both Netdata and RabbitMQ if many queues are configured
            and used.
          required: false
          default_value: no
        - name: timeout
          description: HTTP request timeout.
          required: false
          default_value: 1
        - name: username
          description: Username for basic HTTP authentication.
          required: false
          default_value: ''
        - name: password
          description: Password for basic HTTP authentication.
          required: false
          default_value: ''
        - name: proxy_url
          description: Proxy URL.
          required: false
          default_value: ''
        - name: proxy_username
          description: Username for proxy basic HTTP authentication.
          required: false
          default_value: ''
        - name: proxy_password
          description: Password for proxy basic HTTP authentication.
          required: false
          default_value: ''
        - name: method
          description: HTTP request method.
          required: false
          default_value: GET
        - name: body
          description: HTTP request body.
          required: false
          default_value: ''
        - name: headers
          description: HTTP request headers.
          required: false
          default_value: ''
        - name: not_follow_redirects
          description: Redirect handling policy. Controls whether the client follows
            redirects.
          required: false
          default_value: no
        - name: tls_skip_verify
          description: Server certificate chain and hostname validation policy. Controls
            whether the client performs this check.
          required: false
          default_value: no
        - name: tls_ca
          description: Certification authority that the client uses when verifying
            the server's certificates.
          required: false
          default_value: ''
        - name: tls_cert
          description: Client TLS certificate.
          required: false
          default_value: ''
        - name: tls_key
          description: Client TLS key.
          required: false
          default_value: ''
    examples:
      folding:
        title: Config
        enabled: true
      list:
        - name: Basic
          description: An example configuration.
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1:15672\n"
        - name: Basic HTTP auth
          description: Local server with basic HTTP authentication.
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1:15672\n    username:
            admin\n    password: password\n"
        - name: Multi-instance
          description: "> **Note**: When you define multiple jobs, their names must
            be unique.\n\nLocal and remote instances.\n"
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1:15672\n\n  -
            name: remote\n    url: http://192.0.2.0:15672\n"
    file:
      name: ''
troubleshooting:
  problems:
    list: []
metrics:
  folding:
    title: Metrics
    enabled: false
  description: ''
  availability: []
  scopes:
    - name: global
      description: These metrics refer to the entire monitored application.
      labels: []
      metrics:
        - name: rabbitmq.messages_count
          description: Messages
          unit: messages
          dimensions:
            - name: ready
            - name: unacknowledged
          chart_type: stacked
        - name: rabbitmq.messages_rate
          description: Messages
          unit: messages/s
          dimensions:
            - name: ack
            - name: publish
            - name: publish_in
            - name: publish_out
            - name: confirm
            - name: deliver
            - name: deliver_no_ack
            - name: get
            - name: get_no_ack
            - name: deliver_get
            - name: redeliver
            - name: return_unroutable
          chart_type: line
        - name: rabbitmq.objects_count
          description: Objects
          unit: messages
          dimensions:
            - name: channels
            - name: consumers
            - name: connections
            - name: queues
            - name: exchanges
          chart_type: line
        - name: rabbitmq.connection_churn_rate
          description: Connection churn
          unit: operations/s
          dimensions:
            - name: created
            - name: closed
          chart_type: line
        - name: rabbitmq.channel_churn_rate
          description: Channel churn
          unit: operations/s
          dimensions:
            - name: created
            - name: closed
          chart_type: line
        - name: rabbitmq.queue_churn_rate
          description: Queue churn
          unit: operations/s
          dimensions:
            - name: created
            - name: deleted
            - name: declared
          chart_type: line
        - name: rabbitmq.file_descriptors_count
          description: File descriptors
          unit: fd
          dimensions:
            - name: available
            - name: used
          chart_type: stacked
        - name: rabbitmq.sockets_count
          description: Used sockets
          unit: sockets
          dimensions:
            - name: available
            - name: used
          chart_type: stacked
        - name: rabbitmq.erlang_processes_count
          description: Erlang processes
          unit: processes
          dimensions:
            - name: available
            - name: used
          chart_type: stacked
        - name: rabbitmq.erlang_run_queue_processes_count
          description: Erlang run queue
          unit: processes
          dimensions:
            - name: length
          chart_type: line
        - name: rabbitmq.memory_usage
          description: Memory
          unit: bytes
          dimensions:
            - name: used
          chart_type: line
        - name: rabbitmq.disk_space_free_size
          description: Free disk space
          unit: bytes
          dimensions:
            - name: free
          chart_type: line
    - name: vhost
      description: These metrics refer to the virtual host.
      labels:
        - name: vhost
          description: virtual host name
      metrics:
        - name: rabbitmq.vhost_messages_count
          description: Vhost messages
          unit: messages
          dimensions:
            - name: ready
            - name: unacknowledged
          chart_type: line
        - name: rabbitmq.vhost_messages_rate
          description: Vhost messages rate
          unit: messages/s
          dimensions:
            - name: ack
            - name: publish
            - name: publish_in
            - name: publish_out
            - name: confirm
            - name: deliver
            - name: deliver_no_ack
            - name: get
            - name: get_no_ack
            - name: deliver_get
            - name: redeliver
            - name: return_unroutable
          chart_type: line
    - name: queue
      description: These metrics refer to the virtual host queue.
      labels:
        - name: vhost
          description: virtual host name
        - name: queue
          description: queue name
      metrics:
        - name: rabbitmq.queue_messages_count
          description: Queue messages
          unit: messages
          dimensions:
            - name: ready
            - name: unacknowledged
            - name: paged_out
            - name: persistent
          chart_type: line
        - name: rabbitmq.queue_messages_rate
          description: Queue messages rate
          unit: messages/s
          dimensions:
            - name: ack
            - name: publish
            - name: publish_in
            - name: publish_out
            - name: confirm
            - name: deliver
            - name: deliver_no_ack
            - name: get
            - name: get_no_ack
            - name: deliver_get
            - name: redeliver
            - name: return_unroutable
          chart_type: line
