name: nginxplus
title: NGINX Plus collector
overview:
  application:
    description: "[NGINX Plus](https://www.nginx.com/products/nginx/) is a software
      load balancer, API gateway, and reverse proxy built on\ntop of NGINX.\n"
  collector:
    description: "This collector will monitor one or more NGINX Plus servers, depending
      on your configuration.\n"
setup:
  prerequisites:
    list:
      - title: Enable API
        description: "See [Configure the API](https://docs.nginx.com/nginx/admin-guide/monitoring/live-activity-monitoring/#configuring-the-api).\n"
  configuration:
    options:
      description: "The following options can be defined globally: update_every, autodetection_retry.\n"
      folding:
        title: Config options
        enabled: true
      list:
        - name: update_every
          description: Data collection frequency.
          required: false
          default_value: 1
        - name: autodetection_retry
          description: Re-check interval in seconds. Zero means not to schedule re-check.
          required: false
          default_value: 0
        - name: url
          description: Server URL.
          required: true
          default_value: http://127.0.0.1
        - name: timeout
          description: HTTP request timeout.
          required: false
          default_value: 1
        - name: username
          description: Username for basic HTTP authentication.
          required: false
          default_value: ''
        - name: password
          description: Password for basic HTTP authentication.
          required: false
          default_value: ''
        - name: proxy_url
          description: Proxy URL.
          required: false
          default_value: ''
        - name: proxy_username
          description: Username for proxy basic HTTP authentication.
          required: false
          default_value: ''
        - name: proxy_password
          description: Password for proxy basic HTTP authentication.
          required: false
          default_value: ''
        - name: method
          description: HTTP request method.
          required: false
          default_value: GET
        - name: body
          description: HTTP request body.
          required: false
          default_value: ''
        - name: headers
          description: HTTP request headers.
          required: false
          default_value: ''
        - name: not_follow_redirects
          description: Redirect handling policy. Controls whether the client follows
            redirects.
          required: false
          default_value: no
        - name: tls_skip_verify
          description: Server certificate chain and hostname validation policy. Controls
            whether the client performs this check.
          required: false
          default_value: no
        - name: tls_ca
          description: Certification authority that the client uses when verifying
            the server's certificates.
          required: false
          default_value: ''
        - name: tls_cert
          description: Client TLS certificate.
          required: false
          default_value: ''
        - name: tls_key
          description: Client TLS key.
          required: false
          default_value: ''
    examples:
      folding:
        title: Config
        enabled: true
      list:
        - name: Basic
          description: A basic example configuration.
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1\n"
        - name: HTTP authentication
          description: Basic HTTP authentication.
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1\n    username:
            username\n    password: password\n"
        - name: HTTPS with self-signed certificate
          description: NGINX Plus with enabled HTTPS and self-signed certificate.
          config: "jobs:\n  - name: local\n    url: https://127.0.0.1\n    tls_skip_verify:
            yes\n"
        - name: Multi-instance
          description: "> **Note**: When you define multiple jobs, their names must
            be unique.\n\nCollecting metrics from local and remote instances.\n"
          config: "jobs:\n  - name: local\n    url: http://127.0.0.1\n\n  - name:
            remote\n    url: http://192.0.2.1\n"
    file:
      name: ''
troubleshooting:
  problems:
    list: []
metrics:
  folding:
    title: Metrics
    enabled: false
  description: ''
  availability: []
  scopes:
    - name: global
      description: These metrics refer to the entire monitored application.
      labels: []
      metrics:
        - name: nginxplus.client_connections_rate
          description: Client connections rate
          unit: connections/s
          dimensions:
            - name: accepted
            - name: dropped
          chart_type: line
        - name: nginxplus.client_connections_count
          description: Client connections
          unit: connections
          dimensions:
            - name: active
            - name: idle
          chart_type: line
        - name: nginxplus.ssl_handshakes_rate
          description: SSL handshakes rate
          unit: handshakes/s
          dimensions:
            - name: successful
            - name: failed
          chart_type: line
        - name: nginxplus.ssl_handshakes_failures_rate
          description: SSL handshakes failures rate
          unit: failures/s
          dimensions:
            - name: no_common_protocol
            - name: no_common_cipher
            - name: timeout
            - name: peer_rejected_cert
          chart_type: stacked
        - name: nginxplus.ssl_verification_errors_rate
          description: SSL verification errors rate
          unit: errors/s
          dimensions:
            - name: no_cert
            - name: expired_cert
            - name: revoked_cert
            - name: hostname_mismatch
            - name: other
          chart_type: stacked
        - name: nginxplus.ssl_session_reuses_rate
          description: Session reuses during SSL handshak
          unit: reuses/s
          dimensions:
            - name: ssl_session
          chart_type: line
        - name: nginxplus.http_requests_rate
          description: HTTP requests rate
          unit: requests/s
          dimensions:
            - name: requests
          chart_type: line
        - name: nginxplus.http_requests_count
          description: HTTP requests
          unit: requests
          dimensions:
            - name: requests
          chart_type: line
        - name: nginxplus.uptime
          description: Uptime
          unit: seconds
          dimensions:
            - name: uptime
          chart_type: line
    - name: http server zone
      description: These metrics refer to the HTTP server zone.
      labels:
        - name: http_server_zone
          description: HTTP server zone name
      metrics:
        - name: nginxplus.http_server_zone_requests_rate
          description: HTTP Server Zone requests rate
          unit: requests/s
          dimensions:
            - name: requests
          chart_type: line
        - name: nginxplus.http_server_zone_responses_per_code_class_rate
          description: HTTP Server Zone responses rate
          unit: responses/s
          dimensions:
            - name: 1xx
            - name: 2xx
            - name: 3xx
            - name: 4xx
            - name: 5xx
          chart_type: stacked
        - name: nginxplus.http_server_zone_traffic_rate
          description: HTTP Server Zone traffic
          unit: bytes/s
          dimensions:
            - name: received
            - name: sent
          chart_type: area
        - name: nginxplus.http_server_zone_requests_processing_count
          description: HTTP Server Zone currently processed requests
          unit: requests
          dimensions:
            - name: processing
          chart_type: line
        - name: nginxplus.http_server_zone_requests_discarded_rate
          description: HTTP Server Zone requests discarded rate
          unit: requests/s
          dimensions:
            - name: discarded
          chart_type: line
    - name: http location zone
      description: These metrics refer to the HTTP location zone.
      labels:
        - name: http_location_zone
          description: HTTP location zone name
      metrics:
        - name: nginxplus.http_location_zone_requests_rate
          description: HTTP Location Zone requests rate
          unit: requests/s
          dimensions:
            - name: requests
          chart_type: line
        - name: nginxplus.http_location_zone_responses_per_code_class_rate
          description: HTTP Location Zone responses rate
          unit: responses/s
          dimensions:
            - name: 1xx
            - name: 2xx
            - name: 3xx
            - name: 4xx
            - name: 5xx
          chart_type: stacked
        - name: nginxplus.http_location_zone_traffic_rate
          description: HTTP Location Zone traffic rate
          unit: bytes/s
          dimensions:
            - name: received
            - name: sent
          chart_type: area
        - name: nginxplus.http_location_zone_requests_discarded_rate
          description: HTTP Location Zone requests discarded rate
          unit: requests/s
          dimensions:
            - name: discarded
          chart_type: line
    - name: http upstream
      description: These metrics refer to the HTTP upstream.
      labels:
        - name: http_upstream_name
          description: HTTP upstream name
        - name: http_upstream_zone
          description: HTTP upstream zone name
      metrics:
        - name: nginxplus.http_upstream_peers_count
          description: HTTP Upstream peers
          unit: peers
          dimensions:
            - name: peers
          chart_type: line
        - name: nginxplus.http_upstream_zombies_count
          description: HTTP Upstream zombies
          unit: servers
          dimensions:
            - name: zombie
          chart_type: line
        - name: nginxplus.http_upstream_keepalive_count
          description: HTTP Upstream keepalive
          unit: connections
          dimensions:
            - name: keepalive
          chart_type: line
    - name: http upstream server
      description: These metrics refer to the HTTP upstream server.
      labels:
        - name: http_upstream_name
          description: HTTP upstream name
        - name: http_upstream_zone
          description: HTTP upstream zone name
        - name: http_upstream_server_address
          description: HTTP upstream server address (e.g. 127.0.0.1:81)
        - name: http_upstream_server_name
          description: HTTP upstream server name
      metrics:
        - name: nginxplus.http_upstream_server_requests_rate
          description: HTTP Upstream Server requests
          unit: requests/s
          dimensions:
            - name: requests
          chart_type: line
        - name: nginxplus.http_upstream_server_responses_per_code_class_rate
          description: HTTP Upstream Server responses
          unit: responses/s
          dimensions:
            - name: 1xx
            - name: 2xx
            - name: 3xx
            - name: 4xx
            - name: 5xx
          chart_type: stacked
        - name: nginxplus.http_upstream_server_response_time
          description: HTTP Upstream Server average response time
          unit: milliseconds
          dimensions:
            - name: response
          chart_type: line
        - name: nginxplus.http_upstream_server_response_header_time
          description: HTTP Upstream Server average response header time
          unit: milliseconds
          dimensions:
            - name: header
          chart_type: line
        - name: nginxplus.http_upstream_server_traffic_rate
          description: HTTP Upstream Server traffic rate
          unit: bytes/s
          dimensions:
            - name: received
            - name: sent
          chart_type: area
        - name: nginxplus.http_upstream_server_state
          description: HTTP Upstream Server state
          unit: state
          dimensions:
            - name: up
            - name: down
            - name: draining
            - name: unavail
            - name: checking
            - name: unhealthy
          chart_type: line
        - name: nginxplus.http_upstream_server_connections_count
          description: HTTP Upstream Server connections
          unit: connections
          dimensions:
            - name: active
          chart_type: line
        - name: nginxplus.http_upstream_server_downtime
          description: HTTP Upstream Server downtime
          unit: seconds
          dimensions:
            - name: downtime
          chart_type: line
    - name: http cache
      description: These metrics refer to the HTTP cache.
      labels:
        - name: http_cache
          description: HTTP cache name
      metrics:
        - name: nginxplus.http_cache_state
          description: HTTP Cache state
          unit: state
          dimensions:
            - name: warm
            - name: cold
          chart_type: line
        - name: nginxplus.http_cache_iops
          description: HTTP Cache size
          unit: responses/s
          dimensions:
            - name: served
            - name: written
            - name: bypass
          chart_type: line
        - name: nginxplus.http_cache_io
          description: HTTP Cache IOPS
          unit: bytes/s
          dimensions:
            - name: served
            - name: written
            - name: bypass
          chart_type: line
        - name: nginxplus.http_cache_size
          description: HTTP Cache IO
          unit: bytes
          dimensions:
            - name: size
          chart_type: line
    - name: stream server zone
      description: These metrics refer to the Stream server zone.
      labels:
        - name: stream_server_zone
          description: Stream server zone name
      metrics:
        - name: nginxplus.stream_server_zone_connections_rate
          description: Stream Server Zone connections rate
          unit: connections/s
          dimensions:
            - name: accepted
          chart_type: line
        - name: nginxplus.stream_server_zone_sessions_per_code_class_rate
          description: Stream Server Zone sessions rate
          unit: sessions/s
          dimensions:
            - name: 2xx
            - name: 4xx
            - name: 5xx
          chart_type: stacked
        - name: nginxplus.stream_server_zone_traffic_rate
          description: Stream Server Zone traffic rate
          unit: bytes/s
          dimensions:
            - name: received
            - name: sent
          chart_type: area
        - name: nginxplus.stream_server_zone_connections_processing_count
          description: Stream Server Zone connections processed
          unit: connections
          dimensions:
            - name: processing
          chart_type: line
        - name: nginxplus.stream_server_zone_connections_discarded_rate
          description: Stream Server Zone connections discarded
          unit: connections/s
          dimensions:
            - name: discarded
          chart_type: line
    - name: stream upstream
      description: These metrics refer to the Stream upstream.
      labels:
        - name: stream_upstream_name
          description: Stream upstream name
        - name: stream_upstream_zone
          description: Stream upstream zone name
      metrics:
        - name: nginxplus.stream_upstream_peers_count
          description: Stream Upstream peers
          unit: peers
          dimensions:
            - name: peers
          chart_type: line
        - name: nginxplus.stream_upstream_zombies_count
          description: Stream Upstream zombies
          unit: servers
          dimensions:
            - name: zombie
          chart_type: line
    - name: stream upstream server
      description: These metrics refer to the Stream upstream server.
      labels:
        - name: stream_upstream_name
          description: Stream upstream name
        - name: stream_upstream_zone
          description: Stream upstream zone name
        - name: stream_upstream_server_address
          description: Stream upstream server address (e.g. 127.0.0.1:12346)
        - name: stream_upstream_server_name
          description: Stream upstream server name
      metrics:
        - name: nginxplus.stream_upstream_server_connections_rate
          description: Stream Upstream Server connections
          unit: connections/s
          dimensions:
            - name: forwarded
          chart_type: line
        - name: nginxplus.stream_upstream_server_traffic_rate
          description: Stream Upstream Server traffic rate
          unit: bytes/s
          dimensions:
            - name: received
            - name: sent
          chart_type: area
        - name: nginxplus.stream_upstream_server_state
          description: Stream Upstream Server state
          unit: state
          dimensions:
            - name: up
            - name: down
            - name: unavail
            - name: checking
            - name: unhealthy
          chart_type: line
        - name: nginxplus.stream_upstream_server_downtime
          description: Stream Upstream Server downtime
          unit: seconds
          dimensions:
            - name: downtime
          chart_type: line
        - name: nginxplus.stream_upstream_server_connections_count
          description: Stream Upstream Server connections
          unit: connections
          dimensions:
            - name: active
          chart_type: line
    - name: resolver zone
      description: These metrics refer to the resolver zone.
      labels:
        - name: resolver_zone
          description: resolver zone name
      metrics:
        - name: nginxplus.resolver_zone_requests_rate
          description: Resolver requests rate
          unit: requests/s
          dimensions:
            - name: name
            - name: srv
            - name: addr
          chart_type: stacked
        - name: nginxplus.resolver_zone_responses_rate
          description: Resolver responses rate
          unit: responses/s
          dimensions:
            - name: noerror
            - name: formerr
            - name: servfail
            - name: nxdomain
            - name: notimp
            - name: refused
            - name: timedout
            - name: unknown
          chart_type: stacked
